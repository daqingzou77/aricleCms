/* 2018-9-7 21:20:46 | 版权所有 火星科技 http://marsgis.cn  【联系我们QQ：516584683，微信：marsgis】 */
!(function(e) {
  'use strict';
  'function' == typeof define && define.amd
    ? define(['jquery'], e)
    : 'undefined' != typeof module && module.exports
    ? (module.exports = e(require('jquery')))
    : e(jQuery);
})(function(s) {
  'use strict';
  function v(e) {
    return (
      !e.nodeName ||
      -1 !== s.inArray(e.nodeName.toLowerCase(), ['iframe', '#document', 'html', 'body'])
    );
  }
  function t(e) {
    return s.isFunction(e) || s.isPlainObject(e) ? e : { top: e, left: e };
  }
  var w = (s.scrollTo = function(e, t, o) {
    return s(window).scrollTo(e, t, o);
  });
  return (
    (w.defaults = { axis: 'xy', duration: 0, limit: !0 }),
    (s.fn.scrollTo = function(e, o, h) {
      'object' == typeof o && ((h = o), (o = 0)),
        'function' == typeof h && (h = { onAfter: h }),
        'max' === e && (e = 9e9),
        (h = s.extend({}, w.defaults, h)),
        (o = o || h.duration);
      var x = h.queue && 1 < h.axis.length;
      return (
        x && (o /= 2),
        (h.offset = t(h.offset)),
        (h.over = t(h.over)),
        this.each(function() {
          function a(e) {
            var t = s.extend({}, h, {
              queue: !0,
              duration: o,
              complete:
                e &&
                function() {
                  e.call(c, d, h);
                },
            });
            l.animate(m, t);
          }
          if (null !== e) {
            var u,
              f = v(this),
              c = f ? this.contentWindow || window : this,
              l = s(c),
              d = e,
              m = {};
            switch (typeof d) {
              case 'number':
              case 'string':
                if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(d)) {
                  d = t(d);
                  break;
                }
                d = f ? s(d) : s(d, c);
              case 'object':
                if (0 === d.length) return;
                (d.is || d.style) && (u = (d = s(d)).offset());
            }
            var p = (s.isFunction(h.offset) && h.offset(c, d)) || h.offset;
            s.each(h.axis.split(''), function(e, t) {
              var o = 'x' === t ? 'Left' : 'Top',
                n = o.toLowerCase(),
                r = 'scroll' + o,
                i = l[r](),
                s = w.max(c, t);
              u
                ? ((m[r] = u[n] + (f ? 0 : i - l.offset()[n])),
                  h.margin &&
                    ((m[r] -= parseInt(d.css('margin' + o), 10) || 0),
                    (m[r] -= parseInt(d.css('border' + o + 'Width'), 10) || 0)),
                  (m[r] += p[n] || 0),
                  h.over[n] && (m[r] += d['x' === t ? 'width' : 'height']() * h.over[n]))
                : ((o = d[n]),
                  (m[r] = o.slice && '%' === o.slice(-1) ? (parseFloat(o) / 100) * s : o)),
                h.limit && /^\d+$/.test(m[r]) && (m[r] = m[r] <= 0 ? 0 : Math.min(m[r], s)),
                !e &&
                  1 < h.axis.length &&
                  (i === m[r] ? (m = {}) : x && (a(h.onAfterFirst), (m = {})));
            }),
              a(h.onAfter);
          }
        })
      );
    }),
    (w.max = function(e, t) {
      var o = 'scroll' + (n = 'x' === t ? 'Width' : 'Height');
      if (!v(e)) return e[o] - s(e)[n.toLowerCase()]();
      var n = 'client' + n,
        r = (i = e.ownerDocument || e.document).documentElement,
        i = i.body;
      return Math.max(r[o], i[o]) - Math.min(r[n], i[n]);
    }),
    (s.Tween.propHooks.scrollLeft = s.Tween.propHooks.scrollTop = {
      get: function(e) {
        return s(e.elem)[e.prop]();
      },
      set: function(e) {
        var t = this.get(e);
        if (e.options.interrupt && e._last && e._last !== t) return s(e.elem).stop();
        var o = Math.round(e.now);
        t !== o && (s(e.elem)[e.prop](o), (e._last = this.get(e)));
      },
    }),
    w
  );
});
