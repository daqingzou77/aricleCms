/* 2018-9-7 21:20:47 | 版权所有 火星科技 http://marsgis.cn  【联系我们QQ：516584683，微信：marsgis】 */
!(function(i) {
  'function' == typeof define && define.amd
    ? define(['jquery'], i)
    : 'object' == typeof exports
    ? (module.exports = i(require('jquery')))
    : i(jQuery);
})(function(z) {
  'use strict';
  function l(i) {
    var t = i.parent();
    i
      .removeData('minicolors-initialized')
      .removeData('minicolors-settings')
      .removeProp('size')
      .removeClass('minicolors-input'),
      t.before(i).remove();
  }
  function h(i) {
    var t = i.parent(),
      o = t.find('.minicolors-panel'),
      s = i.data('minicolors-settings');
    !i.data('minicolors-initialized') ||
      i.prop('disabled') ||
      t.hasClass('minicolors-inline') ||
      t.hasClass('minicolors-focus') ||
      (d(),
      t.addClass('minicolors-focus'),
      o.stop(!0, !0).fadeIn(s.showSpeed, function() {
        s.show && s.show.call(i.get(0));
      }));
  }
  function d() {
    z('.minicolors-focus').each(function() {
      var i = z(this),
        t = i.find('.minicolors-input'),
        o = i.find('.minicolors-panel'),
        s = t.data('minicolors-settings');
      o.fadeOut(s.hideSpeed, function() {
        s.hide && s.hide.call(t.get(0)), i.removeClass('minicolors-focus');
      });
    });
  }
  function o(i, t, o) {
    var s,
      a,
      n,
      e,
      r = i.parents('.minicolors').find('.minicolors-input'),
      c = r.data('minicolors-settings'),
      l = i.find('[class$=-picker]'),
      h = i.offset().left,
      d = i.offset().top,
      p = Math.round(t.pageX - h),
      u = Math.round(t.pageY - d),
      g = o ? c.animationSpeed : 0;
    t.originalEvent.changedTouches &&
      ((p = t.originalEvent.changedTouches[0].pageX - h),
      (u = t.originalEvent.changedTouches[0].pageY - d)),
      p < 0 && (p = 0),
      u < 0 && (u = 0),
      p > i.width() && (p = i.width()),
      u > i.height() && (u = i.height()),
      i.parent().is('.minicolors-slider-wheel') &&
        l.parent().is('.minicolors-grid') &&
        ((s = 75 - p),
        (a = 75 - u),
        (n = Math.sqrt(s * s + a * a)),
        (e = Math.atan2(a, s)) < 0 && (e += 2 * Math.PI),
        75 < n && ((p = (n = 75) - 75 * Math.cos(e)), (u = 75 - 75 * Math.sin(e))),
        (p = Math.round(p)),
        (u = Math.round(u))),
      i.is('.minicolors-grid')
        ? l.stop(!0).animate({ top: u + 'px', left: p + 'px' }, g, c.animationEasing, function() {
            m(r, i);
          })
        : l.stop(!0).animate({ top: u + 'px' }, g, c.animationEasing, function() {
            m(r, i);
          });
  }
  function m(i, t) {
    function o(i, t) {
      var o, s;
      return i.length && t
        ? ((o = i.offset().left),
          (s = i.offset().top),
          {
            x: o - t.offset().left + i.outerWidth() / 2,
            y: s - t.offset().top + i.outerHeight() / 2,
          })
        : null;
    }
    var s,
      a,
      n,
      e,
      r,
      c,
      l,
      h = i.val(),
      d = i.attr('data-opacity'),
      p = i.parent(),
      u = i.data('minicolors-settings'),
      g = p.find('.minicolors-input-swatch'),
      m = p.find('.minicolors-grid'),
      f = p.find('.minicolors-slider'),
      v = p.find('.minicolors-opacity-slider'),
      b = m.find('[class$=-picker]'),
      w = f.find('[class$=-picker]'),
      y = v.find('[class$=-picker]'),
      C = o(b, m),
      k = o(w, f),
      M = o(y, v);
    if (t.is('.minicolors-grid, .minicolors-slider, .minicolors-opacity-slider')) {
      switch (u.control) {
        case 'wheel':
          (e = m.width() / 2 - C.x),
            (r = m.height() / 2 - C.y),
            (c = Math.sqrt(e * e + r * r)),
            (l = Math.atan2(r, e)) < 0 && (l += 2 * Math.PI),
            75 < c && ((c = 75), (C.x = 69 - 75 * Math.cos(l)), (C.y = 69 - 75 * Math.sin(l))),
            (a = L(c / 0.75, 0, 100)),
            (h = N({
              h: (s = L((180 * l) / Math.PI, 0, 360)),
              s: a,
              b: (n = L(100 - Math.floor(k.y * (100 / f.height())), 0, 100)),
            })),
            f.css('backgroundColor', N({ h: s, s: a, b: 100 }));
          break;
        case 'saturation':
          (h = N({
            h: (s = L(parseInt(C.x * (360 / m.width()), 10), 0, 360)),
            s: (a = L(100 - Math.floor(k.y * (100 / f.height())), 0, 100)),
            b: (n = L(100 - Math.floor(C.y * (100 / m.height())), 0, 100)),
          })),
            f.css('backgroundColor', N({ h: s, s: 100, b: n })),
            p.find('.minicolors-grid-inner').css('opacity', a / 100);
          break;
        case 'brightness':
          (h = N({
            h: (s = L(parseInt(C.x * (360 / m.width()), 10), 0, 360)),
            s: (a = L(100 - Math.floor(C.y * (100 / m.height())), 0, 100)),
            b: (n = L(100 - Math.floor(k.y * (100 / f.height())), 0, 100)),
          })),
            f.css('backgroundColor', N({ h: s, s: a, b: 100 })),
            p.find('.minicolors-grid-inner').css('opacity', 1 - n / 100);
          break;
        default:
          (h = N({
            h: (s = L(360 - parseInt(k.y * (360 / f.height()), 10), 0, 360)),
            s: (a = L(Math.floor(C.x * (100 / m.width())), 0, 100)),
            b: (n = L(100 - Math.floor(C.y * (100 / m.height())), 0, 100)),
          })),
            m.css('backgroundColor', N({ h: s, s: 100, b: 100 }));
      }
      x(i, h, (d = u.opacity ? parseFloat(1 - M.y / v.height()).toFixed(2) : 1));
    } else g.find('span').css({ backgroundColor: h, opacity: d }), F(i, h, d);
  }
  function x(i, t, o) {
    var s,
      a = i.parent(),
      n = i.data('minicolors-settings'),
      e = a.find('.minicolors-input-swatch');
    n.opacity && i.attr('data-opacity', o),
      (t =
        'rgb' === n.format
          ? ((s = $(t) ? j(t, !0) : O(T(t, !0))),
            (o =
              '' === i.attr('data-opacity')
                ? 1
                : L(parseFloat(i.attr('data-opacity')).toFixed(2), 0, 1)),
            (isNaN(o) || !n.opacity) && (o = 1),
            i.minicolors('rgbObject').a <= 1 && s && n.opacity
              ? 'rgba(' + s.r + ', ' + s.g + ', ' + s.b + ', ' + parseFloat(o) + ')'
              : 'rgb(' + s.r + ', ' + s.g + ', ' + s.b + ')')
          : ($(t) && (t = P(t)), D(t, n.letterCase))),
      i.val(t),
      e.find('span').css({ backgroundColor: t, opacity: o }),
      F(i, t, o);
  }
  function p(i, t) {
    var o,
      s,
      a,
      n,
      e,
      r,
      c,
      l,
      h,
      d,
      p,
      u,
      g,
      m,
      f,
      v,
      b = i.parent(),
      w = i.data('minicolors-settings'),
      y = b.find('.minicolors-input-swatch'),
      C = b.find('.minicolors-grid'),
      k = b.find('.minicolors-slider'),
      M = b.find('.minicolors-opacity-slider'),
      x = C.find('[class$=-picker]'),
      I = k.find('[class$=-picker]'),
      S = M.find('[class$=-picker]');
    switch (
      ($(i.val())
        ? ((o = P(i.val())),
          (e = L(parseFloat(E(i.val())).toFixed(2), 0, 1)) && i.attr('data-opacity', e))
        : (o = D(T(i.val(), !0), w.letterCase)),
      o || (o = D(q(w.defaultValue, !0), w.letterCase)),
      (u = O(o)),
      (g = { h: 0, s: 0, b: 0 }),
      (m = Math.min(u.r, u.g, u.b)),
      (f = Math.max(u.r, u.g, u.b)),
      (v = f - m),
      (g.b = f),
      (g.s = 0 !== f ? (255 * v) / f : 0),
      0 !== g.s
        ? u.r === f
          ? (g.h = (u.g - u.b) / v)
          : u.g === f
          ? (g.h = 2 + (u.b - u.r) / v)
          : (g.h = 4 + (u.r - u.g) / v)
        : (g.h = -1),
      (g.h *= 60),
      g.h < 0 && (g.h += 360),
      (g.s *= 100 / 255),
      (g.b *= 100 / 255),
      0 === (p = g).s && (p.h = 360),
      (s = p),
      (n = w.keywords
        ? z.map(w.keywords.split(','), function(i) {
            return z.trim(i.toLowerCase());
          })
        : []),
      (r =
        '' !== i.val() && -1 < z.inArray(i.val().toLowerCase(), n)
          ? D(i.val())
          : $(i.val())
          ? j(i.val())
          : o),
      t || i.val(r),
      w.opacity &&
        ((a =
          '' === i.attr('data-opacity')
            ? 1
            : L(parseFloat(i.attr('data-opacity')).toFixed(2), 0, 1)),
        isNaN(a) && (a = 1),
        i.attr('data-opacity', a),
        y.find('span').css('opacity', a),
        (l = L(M.height() - M.height() * a, 0, M.height())),
        S.css('top', l + 'px')),
      'transparent' === i.val().toLowerCase() && y.find('span').css('opacity', 0),
      y.find('span').css('backgroundColor', o),
      w.control)
    ) {
      case 'wheel':
        (h = L(Math.ceil(0.75 * s.s), 0, C.height() / 2)),
          (d = (s.h * Math.PI) / 180),
          (c = L(75 - Math.cos(d) * h, 0, C.width())),
          (l = L(75 - Math.sin(d) * h, 0, C.height())),
          x.css({ top: l + 'px', left: c + 'px' }),
          (l = 150 - s.b / (100 / C.height())),
          '' === o && (l = 0),
          I.css('top', l + 'px'),
          k.css('backgroundColor', N({ h: s.h, s: s.s, b: 100 }));
        break;
      case 'saturation':
        (c = L((5 * s.h) / 12, 0, 150)),
          (l = L(C.height() - Math.ceil(s.b / (100 / C.height())), 0, C.height())),
          x.css({ top: l + 'px', left: c + 'px' }),
          (l = L(k.height() - s.s * (k.height() / 100), 0, k.height())),
          I.css('top', l + 'px'),
          k.css('backgroundColor', N({ h: s.h, s: 100, b: s.b })),
          b.find('.minicolors-grid-inner').css('opacity', s.s / 100);
        break;
      case 'brightness':
        (c = L((5 * s.h) / 12, 0, 150)),
          (l = L(C.height() - Math.ceil(s.s / (100 / C.height())), 0, C.height())),
          x.css({ top: l + 'px', left: c + 'px' }),
          (l = L(k.height() - s.b * (k.height() / 100), 0, k.height())),
          I.css('top', l + 'px'),
          k.css('backgroundColor', N({ h: s.h, s: s.s, b: 100 })),
          b.find('.minicolors-grid-inner').css('opacity', 1 - s.b / 100);
        break;
      default:
        (c = L(Math.ceil(s.s / (100 / C.width())), 0, C.width())),
          (l = L(C.height() - Math.ceil(s.b / (100 / C.height())), 0, C.height())),
          x.css({ top: l + 'px', left: c + 'px' }),
          (l = L(k.height() - s.h / (360 / k.height()), 0, k.height())),
          I.css('top', l + 'px'),
          C.css('backgroundColor', N({ h: s.h, s: 100, b: 100 }));
    }
    i.data('minicolors-initialized') && F(i, r, a);
  }
  function F(i, t, o) {
    var s,
      a,
      n = i.data('minicolors-settings'),
      e = i.data('minicolors-lastChange');
    if (!e || e.value !== t || e.opacity !== o) {
      if (
        (i.data('minicolors-lastChange', { value: t, opacity: o }),
        n.swatches && 0 !== n.swatches.length)
      ) {
        for (s = $(t) ? j(t, !0) : O(t), -1, a = 0; a < n.swatches.length; ++a)
          if (
            s.r === n.swatches[a].r &&
            s.g === n.swatches[a].g &&
            s.b === n.swatches[a].b &&
            s.a === n.swatches[a].a
          ) {
            a;
            break;
          }
        i
          .parent()
          .find('.minicolors-swatches .minicolors-swatch')
          .removeClass('selected'),
          -1 !== a &&
            i
              .parent()
              .find('.minicolors-swatches .minicolors-swatch')
              .eq(a)
              .addClass('selected');
      }
      n.change &&
        (n.changeDelay
          ? (clearTimeout(i.data('minicolors-changeTimeout')),
            i.data(
              'minicolors-changeTimeout',
              setTimeout(function() {
                n.change.call(i.get(0), t, o);
              }, n.changeDelay)
            ))
          : n.change.call(i.get(0), t, o)),
        i.trigger('change').trigger('input');
    }
  }
  function D(i, t) {
    return 'uppercase' === t ? i.toUpperCase() : i.toLowerCase();
  }
  function T(i, t) {
    return (i = i.replace(/^#/g, '')).match(/^[A-F0-9]{3,6}/gi)
      ? 3 !== i.length && 6 !== i.length
        ? ''
        : (3 === i.length && t && (i = i[0] + i[0] + i[1] + i[1] + i[2] + i[2]), '#' + i)
      : '';
  }
  function j(i, t) {
    var o = i.replace(/[^\d,.]/g, '').split(',');
    return (
      (o[0] = L(parseInt(o[0], 10), 0, 255)),
      (o[1] = L(parseInt(o[1], 10), 0, 255)),
      (o[2] = L(parseInt(o[2], 10), 0, 255)),
      o[3] && (o[3] = L(parseFloat(o[3], 10), 0, 1)),
      t
        ? { r: o[0], g: o[1], b: o[2], a: o[3] ? o[3] : null }
        : void 0 !== o[3] && o[3] <= 1
        ? 'rgba(' + o[0] + ', ' + o[1] + ', ' + o[2] + ', ' + o[3] + ')'
        : 'rgb(' + o[0] + ', ' + o[1] + ', ' + o[2] + ')'
    );
  }
  function q(i, t) {
    return $(i) ? j(i) : T(i, t);
  }
  function L(i, t, o) {
    return i < t && (i = t), o < i && (i = o), i;
  }
  function $(i) {
    var t = i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);
    return !(!t || 4 !== t.length);
  }
  function E(i) {
    return (i = i.match(
      /^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i
    )) && 6 === i.length
      ? i[4]
      : '1';
  }
  function P(i) {
    return (i = i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i)) &&
      4 === i.length
      ? '#' +
          ('0' + parseInt(i[1], 10).toString(16)).slice(-2) +
          ('0' + parseInt(i[2], 10).toString(16)).slice(-2) +
          ('0' + parseInt(i[3], 10).toString(16)).slice(-2)
      : '';
  }
  function u(i) {
    var o = [i.r.toString(16), i.g.toString(16), i.b.toString(16)];
    return (
      z.each(o, function(i, t) {
        1 === t.length && (o[i] = '0' + t);
      }),
      '#' + o.join('')
    );
  }
  function N(i) {
    return u(
      (function(i) {
        var t = {},
          o = Math.round(i.h),
          s = Math.round((255 * i.s) / 100),
          a = Math.round((255 * i.b) / 100);
        if (0 === s) t.r = t.g = t.b = a;
        else {
          var n = a,
            e = ((255 - s) * a) / 255,
            r = ((o % 60) * (n - e)) / 60;
          360 === o && (o = 0),
            o < 60
              ? ((t.r = n), (t.b = e), (t.g = e + r))
              : o < 120
              ? ((t.g = n), (t.b = e), (t.r = n - r))
              : o < 180
              ? ((t.g = n), (t.r = e), (t.b = e + r))
              : o < 240
              ? ((t.b = n), (t.r = e), (t.g = n - r))
              : o < 300
              ? ((t.b = n), (t.g = e), (t.r = e + r))
              : (t.b = o < 360 ? ((t.r = n), (t.g = e), n - r) : ((t.r = 0), (t.g = 0)));
        }
        return { r: Math.round(t.r), g: Math.round(t.g), b: Math.round(t.b) };
      })(i)
    );
  }
  function O(i) {
    return {
      r: (i = parseInt(-1 < i.indexOf('#') ? i.substring(1) : i, 16)) >> 16,
      g: (65280 & i) >> 8,
      b: 255 & i,
    };
  }
  (z.minicolors = {
    defaults: {
      animationSpeed: 50,
      animationEasing: 'swing',
      change: null,
      changeDelay: 0,
      control: 'hue',
      dataUris: !0,
      defaultValue: '',
      format: 'hex',
      hide: null,
      hideSpeed: 100,
      inline: !1,
      keywords: '',
      letterCase: 'lowercase',
      opacity: !1,
      position: 'bottom left',
      show: null,
      showSpeed: 100,
      theme: 'default',
      swatches: [],
    },
  }),
    z.extend(z.fn, {
      minicolors: function(i, t) {
        switch (i) {
          case 'destroy':
            return (
              z(this).each(function() {
                l(z(this));
              }),
              z(this)
            );
          case 'hide':
            return d(), z(this);
          case 'opacity':
            return void 0 === t
              ? z(this).attr('data-opacity')
              : (z(this).each(function() {
                  p(z(this).attr('data-opacity', t));
                }),
                z(this));
          case 'rgbObject':
            return (
              (e = z(this)),
              (r = O(T(z(e).val(), !0))),
              (c = z(e).attr('data-opacity')),
              r ? (void 0 !== c && z.extend(r, { a: parseFloat(c) }), r) : null
            );
          case 'rgbString':
          case 'rgbaString':
            return (
              (o = z(this)),
              (s = 'rgbaString' === i),
              (a = O(T(z(o).val(), !0))),
              (n = z(o).attr('data-opacity')),
              a
                ? (void 0 === n && (n = 1),
                  s
                    ? 'rgba(' + a.r + ', ' + a.g + ', ' + a.b + ', ' + parseFloat(n) + ')'
                    : 'rgb(' + a.r + ', ' + a.g + ', ' + a.b + ')')
                : null
            );
          case 'settings':
            return void 0 === t
              ? z(this).data('minicolors-settings')
              : (z(this).each(function() {
                  var i = z(this).data('minicolors-settings') || {};
                  l(z(this)), z(this).minicolors(z.extend(!0, i, t));
                }),
                z(this));
          case 'show':
            return h(z(this).eq(0)), z(this);
          case 'value':
            return void 0 === t
              ? z(this).val()
              : (z(this).each(function() {
                  'object' == typeof t && null !== typeof t
                    ? (t.opacity && z(this).attr('data-opacity', L(t.opacity, 0, 1)),
                      t.color && z(this).val(t.color))
                    : z(this).val(t),
                    p(z(this));
                }),
                z(this));
          default:
            return (
              'create' !== i && (t = i),
              z(this).each(function() {
                !(function(t, i) {
                  var o,
                    s,
                    a,
                    n,
                    e,
                    r = z('<div class="minicolors" />'),
                    c = z.minicolors.defaults;
                  if (!t.data('minicolors-initialized')) {
                    if (
                      ((i = z.extend(!0, {}, c, i)),
                      r
                        .addClass('minicolors-theme-' + i.theme)
                        .toggleClass('minicolors-with-opacity', i.opacity)
                        .toggleClass('minicolors-no-data-uris', !0 !== i.dataUris),
                      void 0 !== i.position &&
                        z.each(i.position.split(' '), function() {
                          r.addClass('minicolors-position-' + this);
                        }),
                      (o =
                        'rgb' === i.format ? (i.opacity ? '25' : '20') : i.keywords ? '11' : '7'),
                      t
                        .addClass('minicolors-input')
                        .data('minicolors-initialized', !1)
                        .data('minicolors-settings', i)
                        .prop('size', o)
                        .wrap(r)
                        .after(
                          '<div class="minicolors-panel minicolors-slider-' +
                            i.control +
                            '"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'
                        ),
                      i.inline ||
                        (t.after(
                          '<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'
                        ),
                        t.next('.minicolors-input-swatch').on('click', function(i) {
                          i.preventDefault(), t.focus();
                        })),
                      (n = t.parent().find('.minicolors-panel'))
                        .on('selectstart', function() {
                          return !1;
                        })
                        .end(),
                      i.swatches && 0 !== i.swatches.length)
                    )
                      for (
                        7 < i.swatches.length && (i.swatches.length = 7),
                          n.addClass('minicolors-with-swatches'),
                          s = z('<ul class="minicolors-swatches"></ul>').appendTo(n),
                          e = 0;
                        e < i.swatches.length;
                        ++e
                      )
                        (a = $((a = i.swatches[e])) ? j(a, !0) : O(T(a, !0))),
                          z(
                            '<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>'
                          )
                            .appendTo(s)
                            .data('swatch-color', i.swatches[e])
                            .find('.minicolors-swatch-color')
                            .css({ backgroundColor: u(a), opacity: a.a }),
                          (i.swatches[e] = a);
                    i.inline && t.parent().addClass('minicolors-inline'),
                      p(t, !1),
                      t.data('minicolors-initialized', !0);
                  }
                })(z(this), t);
              }),
              z(this)
            );
        }
        var o, s, a, n, e, r, c;
      },
    }),
    z(document)
      .on('mousedown.minicolors touchstart.minicolors', function(i) {
        z(i.target)
          .parents()
          .add(i.target)
          .hasClass('minicolors') || d();
      })
      .on(
        'mousedown.minicolors touchstart.minicolors',
        '.minicolors-grid, .minicolors-slider, .minicolors-opacity-slider',
        function(i) {
          var t = z(this);
          i.preventDefault(), z(document).data('minicolors-target', t), o(t, i, !0);
        }
      )
      .on('mousemove.minicolors touchmove.minicolors', function(i) {
        var t = z(document).data('minicolors-target');
        t && o(t, i);
      })
      .on('mouseup.minicolors touchend.minicolors', function() {
        z(this).removeData('minicolors-target');
      })
      .on('click.minicolors', '.minicolors-swatches li', function(i) {
        i.preventDefault();
        var t = z(this),
          o = t.parents('.minicolors').find('.minicolors-input'),
          s = t.data('swatch-color');
        x(o, s, E(s)), p(o);
      })
      .on('mousedown.minicolors touchstart.minicolors', '.minicolors-input-swatch', function(i) {
        var t = z(this)
          .parent()
          .find('.minicolors-input');
        i.preventDefault(), h(t);
      })
      .on('focus.minicolors', '.minicolors-input', function() {
        var i = z(this);
        i.data('minicolors-initialized') && h(i);
      })
      .on('blur.minicolors', '.minicolors-input', function() {
        var i,
          t,
          o,
          s,
          a,
          n = z(this),
          e = n.data('minicolors-settings');
        n.data('minicolors-initialized') &&
          ((i = e.keywords
            ? z.map(e.keywords.split(','), function(i) {
                return z.trim(i.toLowerCase());
              })
            : []),
          (a =
            '' !== n.val() && -1 < z.inArray(n.val().toLowerCase(), i)
              ? n.val()
              : null === (o = $(n.val()) ? j(n.val(), !0) : (t = T(n.val(), !0)) ? O(t) : null)
              ? e.defaultValue
              : 'rgb' === e.format
              ? j(
                  e.opacity
                    ? 'rgba(' + o.r + ',' + o.g + ',' + o.b + ',' + n.attr('data-opacity') + ')'
                    : 'rgb(' + o.r + ',' + o.g + ',' + o.b + ')'
                )
              : u(o)),
          (s = e.opacity ? n.attr('data-opacity') : 1),
          'transparent' === a.toLowerCase() && (s = 0),
          n
            .closest('.minicolors')
            .find('.minicolors-input-swatch > span')
            .css('opacity', s),
          n.val(a),
          '' === n.val() && n.val(q(e.defaultValue, !0)),
          n.val(D(n.val(), e.letterCase)));
      })
      .on('keydown.minicolors', '.minicolors-input', function(i) {
        var t = z(this);
        if (t.data('minicolors-initialized'))
          switch (i.keyCode) {
            case 9:
              d();
              break;
            case 13:
            case 27:
              d(), t.blur();
          }
      })
      .on('keyup.minicolors', '.minicolors-input', function() {
        var i = z(this);
        i.data('minicolors-initialized') && p(i, !0);
      })
      .on('paste.minicolors', '.minicolors-input', function() {
        var i = z(this);
        i.data('minicolors-initialized') &&
          setTimeout(function() {
            p(i, !0);
          }, 1);
      });
});
